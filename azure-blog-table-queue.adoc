= Azure Storage : Blob, Table, Queue
:revealjs_theme: black


== Introduction

Azure Storage est une solution de stockage cloud √©volutive, s√©curis√©e, et performante, propos√©e par Microsoft Azure. 

=== ...

On verra ce qu'il en est pour Google Cloud Storage ... üòÖ


=== ...

Elle permet de stocker des donn√©es:
[%step]
* structur√©es, 
* semi-structur√©es
* structur√©es. 

== 1. Petite pr√©sentation g√©n√©rale d‚ÄôAzure Storage

=== Haute disponibilit√© : 

Donn√©es r√©pliqu√©es sur plusieurs zones ou r√©gions.

=== √âvolutivit√© : 

Capacit√© quasi illimit√©e.

=== S√©curit√© : 

Chiffrement au repos et en transit, int√©gration avec Azure Active Directory (Entra ID).


=== Performances optimis√©es : 

Adapt√©es aux charges de travail intensives.


=== Types de stockage Azure :

Blob Storage : Pour les objets non structur√©s (images, vid√©os, fichiers).

=== Table Storage : 

Pour les donn√©es NoSQL structur√©es.

=== Queue Storage : 

Pour la gestion de messages entre applications.

=== File Storage : 

Stockage de fichiers partag√©s, accessible via SMB/NFS.

=== ...

Disk Storage : Pour les disques persistants associ√©s aux VM.

== 2. Blob Storage

Blob (Binary Large Object) Storage est con√ßu pour le stockage d'objets non structur√©s.

=== Cas d‚Äôutilisation :

[%step]
* Stocker des images, vid√©os, documents.
* H√©berger des applications web ou des fichiers statiques.

=== ...

* Backup et archivage de donn√©es.
* Stockage de donn√©es pour l‚Äôanalyse Big Data.


=== Types de blobs :

* Block Blobs : Con√ßu pour stocker des fichiers (jusqu'√† 4,75 To).

=== ...

* Append Blobs : Optimis√© pour les journaux et les logs, avec ajout s√©quentiel.

=== ...

* Page Blobs : Optimis√© pour des acc√®s al√©atoires (disques virtuels pour les VM).


=== Niveaux d‚Äôacc√®s :
* Hot Tier : Donn√©es fr√©quemment utilis√©es.
* Cool Tier : Donn√©es rarement consult√©es (√©conomies importantes).
* Archive Tier : Donn√©es tr√®s rarement utilis√©es (co√ªt r√©duit, mais acc√®s lent).

=== S√©curit√© :

* Int√©gration avec Azure AD.
* Chiffrement au repos (AES-256).
* Signatures d‚Äôacc√®s partag√© (SAS) pour contr√¥ler l‚Äôacc√®s.

=== Principales API et outils :

=== Azure Storage SDK (C#, Python, Java, etc.).

* Azure CLI : az storage blob.
* Int√©gration avec Data Factory pour ETL.

==  3. Table Storage


Azure Table Storage est une base de donn√©es NoSQL optimis√©e pour les donn√©es structur√©es mais non relationnelles.


=== Cas pratique:

* Stockage des logs d‚Äôapplications.
* Bases de donn√©es l√©g√®res pour des donn√©es semi-structur√©es.
* Applications IoT ou t√©l√©m√©trie.

=== Caract√©ristiques :

=== Mod√®le cl√©-valeur : 

Rapide et simple.
Scalabilit√© horizontale.
Faible latence pour des millions de requ√™tes par seconde.

=== Structure des donn√©es :

* PartitionKey : Regroupe des entit√©s similaires pour optimiser les requ√™tes.
* RowKey : Identifiant unique dans une partition.
* Timestamp : Suivi automatique des modifications.

=== Avantages :

* Simple √† configurer et √† utiliser.
* Co√ªt r√©duit.
* Compatible avec Azure Cosmos DB pour les besoins avanc√©s.

=== Limitations :

* Pas de relations complexes entre les entit√©s.
* Pas de requ√™tes SQL complexes.

== 4. Queue Storage

Azure Queue Storage est un service de gestion de messages dans une architecture distribu√©e.


=== Cas d‚Äôutilisation :

* Transmission de messages entre applications.
* File d'attente pour le traitement par des microservices.
* Communication asynchrone dans les architectures serverless.

=== Caract√©ristiques :

=== Messages : 

Taille maximale de 64 Ko (ou 200 Ko avec base64).

=== Dur√©e de vie : 

Messages stock√©s jusqu‚Äô√† 7 jours par d√©faut (configurable).

=== Scalabilit√© : 

Des millions de messages par queue.

== Principales op√©rations :

=== Ajouter un message : 

Ajout asynchrone.

=== Lire un message : 

Lecture d‚Äôun message sans le supprimer.

=== Supprimer un message : 

Suppression apr√®s traitement.

=== S√©curit√© :

Int√©gration avec Azure AD et SAS pour un contr√¥le d‚Äôacc√®s s√©curis√©.


== 5. Cas pratique :

=== Blob Storage : 

link:./heberger-site-statique.htmk[H√©berger un site statique]

=== Table Storage : 

Stocker des journaux d‚Äôapplications avec des partitions par date.

=== Queue Storage : 

Ajouter des t√¢ches de traitement √† une file d‚Äôattente.

== Outils disponibles :

=== Azure Portal : 

Interface utilisateur.

=== Azure CLI : 

Commandes pour manipuler les ressources (e.g., az storage blob upload).

=== Azure Storage Explorer : 

Interface graphique pour g√©rer les donn√©es.

=== SDK Azure : 

Pour int√©grer les services dans vos applications (Python, .NET, etc.).

== 7. Bonnes pratiques


=== Blob Storage :

* Utiliser des tiers appropri√©s pour r√©duire les co√ªts.

* Configurer les signatures SAS pour s√©curiser les partages.


=== Table Storage :

* Choisir les **PartitionKeys** pour optimiser les performances.

=== ...

* Archiver les partitions obsol√®tes dans Blob Storage.


=== Queue Storage :

* Configurer une politique de redondance pour les messages critiques.

=== ...

* Utiliser le mod√®le FIFO (First-In-First-Out) si n√©cessaire.

== 8. Ressources suppl√©mentaires

* Documentation officielle Azure Storage
* Azure Storage Explorer
* D√©mos vid√©o sur Microsoft Learn

=== ...

Si vous avez besoin de plans d√©taill√©s pour une d√©monstration pratique, comme la cr√©ation et la gestion d‚Äôun Blob ou ...

=== ...

d‚Äôune file d‚Äôattente dans Azure, je peux vous fournir un guide √©tape par √©tape.